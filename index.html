<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>

  </head>
  <body>
    <span class="top">
        <h1>twittler</h1>
        <p><button type="button">New Tweets!</button></p>
    </span>

    <div class = 'main'>
    </div>
    <script>
      $(document).ready(function(){
        var $main = $('.main');
        //$body.html('');

        var index = streams.home.length - 1;
        var i = 0;
        var printLatestTweets = function (total, current){

          while(current  <= total){
            var tweet = streams.home[current];
            var $tweet = $('<div class="tweet">' +
            '<span class="user">' + tweet.user + '@ ' + '</span>' + tweet.created_at + " " + '<span class = "time"><p>' +
            tweet.message + '</span></p>' + '</div>');
            //$tweet.text('<span class="user">' + '@' + tweet.user + "</span>" + ': ' + tweet.message + " " + tweet.created_at);
            //$tweet.addClass('#tweet');
            $tweet.prependTo($main);
            current++;
            }
        }
        printLatestTweets(index, i);
        $('button').on('click', function(){ 
          var index = streams.home.length - 1;
          var i =$(".main").find('div').size();
          printLatestTweets(index, i);
        }); 
        $('h1').on('click', function (){
          $main.html('');
          var i = 0;
          var index = streams.home.length -1;
          printLatestTweets(index, i);
        });
        
      });

    </script>
  </body>
</html>
